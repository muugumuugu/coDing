<link href="/styles/home.css" rel="stylesheet">
<p><a href="wp:Balanced ternary|Balanced ternary">wp:Balanced ternary|Balanced ternary</a> is a way of representing numbers.  Unlike the prevailing binary representation, a balanced ternary integer is in base 3, and each digit can have the values 1, 0, or −1.<code></code>
<code></code>
<code></code>
<br>Examples:<code></code>
Decimal 11 = 3<sup>2</sup> + 3<sup>1</sup> − 3<sup>0</sup>, thus it can be written as "++−"<code></code>
<code></code>
Decimal  6 = 3<sup>2</sup> − 3<sup>1</sup> + 0 × 3<sup>0</sup>, thus it can be written as "+−0"<code></code>
<code></code>
<code></code>
<br>Task:<code></code>
Implement balanced ternary representation of integers with the following:<code></code></p>
<h1 id="supportarbitrarilylargeintegersbothpositiveandnegativec11c">Support arbitrarily large integers, both positive and negative;<code></code></h1>
<h1 id="providewaystoconverttoandfromtextstringsusingdigitsand0unlessyouarealreadyusingstringstorepresentbalancedternarybutseerequirement5c12c">Provide ways to convert to and from text strings, using digits '+', '-' and '0' (unless you are already using strings to represent balanced ternary; but see requirement 5).<code></code></h1>
<h1 id="providewaystoconverttoandfromnativeintegertypeunlessimprobablyyourplatformsnativeintegertypeisbalancedternaryifyournativeintegerscantsupportarbitrarylengthoverflowsduringconversionmustbeindicatedc13c">Provide ways to convert to and from native integer type (unless, improbably, your platform's native integer type <code>is</code> balanced ternary).  If your native integers can't support arbitrary length, overflows during conversion must be indicated.<code></code></h1>
<h1 id="providewaystoperformadditionnegationandmultiplicationdirectlyonbalancedternaryintegersdonotconverttonativeintegersfirstc14c">Provide ways to perform addition, negation and multiplication directly on balanced ternary integers; do <code>not</code> convert to native integers first.<code></code></h1>
<h1 id="makeyourimplementationefficientwithareasonabledefinitionofefficientandwithareasonabledefinitionofreasonablec15c">Make your implementation efficient, with a reasonable definition of "efficient" (and with a reasonable definition of "reasonable").<code></code></h1>
<p><code></code>
<code></code>
<code>Test case</code> With balanced ternaries <code>a from string "+-0++0+", b from native integer -436, c</code> "+-++-":<code></code></p>
<ul>
<li>write out <code>a, b and c</code> in decimal notation;<code></code></li>
<li>calculate <code>a × (b − c</code>), write out the result in both ternary and decimal notations.<code></code>
<code></code>
<code></code>
<code>Note:</code> The pages <a href="generalised floating point addition]] and <a href="[generalised floating point multiplication]] have code implementing [[wp:arbitrary precision|arbitrary precision]] [[wp:floating point|floating point">generalised floating point addition]] and [[generalised floating point multiplication]] have code implementing [[wp:arbitrary precision|arbitrary precision]">[generalised floating point multiplication]] have code implementing [[wp:arbitrary precision|arbitrary precision]] [[wp:floating point|floating point">generalised floating point addition]] and [[generalised floating point multiplication]] have code implementing [[wp:arbitrary precision|arbitrary precision]</a> [[wp:floating point|floating point</a> balanced ternary.<code></code>
<br><br><code></code></li>
</ul>